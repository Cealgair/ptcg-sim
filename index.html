<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta property="og:title" content="PTCG-sim"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://ptcgsim.online/link-preview-photo.png"/>
    <meta property="og:url" content="https://ptcgsim.online"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ptcg sim</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="resources/css/index.css">
    <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
    <script type="module" src="resources/js/front-end/front-end.js"></script>
    <script>
        window.onload = () => {
            var isMobile = /iPhone|iPad|iPod|Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                alert("PTCG-sim is still in mobile development. Please view on a desktop for full functionality.");
            };
        };
    </script>
</head>
<body>
    <div id="videoContainer"></div>
    <iframe id="selfContainers" class="self" src="./iframe-containers/self-containers.html"></iframe>
    <iframe id="oppContainers" class="opp" src="./iframe-containers/opp-containers.html"></iframe>
    <div id="stadium_html" class="base"></div>
    <div id="selfResizer" class="selfColour"></div>
    <div id="oppResizer" class="oppColour"></div>

    <div id="boardButtonContainer">
        <button id="turnButton">+Turn</button>
        <button id="flipCoinButton">Coin</button>
        <button id="flipBoardButton">⇅</button>
    </div>

    <div id="topButtonContainer">
        <button id="p1Button" class="selected-page">1P</button>
        <button id="p2Button" class="not-selected-page">2P</button>
        <button id="deckImportButton" class="not-selected-page">Import</button>
        <button id="settingsButton" class="not-selected-page">Settings</button>
    </div>
    
    <div id="changelog">
        <strong>v1.0.0 Update 12/29/2023</strong><br><br>
        
        Hi everyone! Thank you all for your support during PTCG-sim’s launch. The feedback and general reception has been overwhelming (in a great way), and I’m happy that so many people in the community are finding great usage out of the sim. If you haven’t already, <strong><a href="https://discord.gg/jMfhQa38mh" target="_blank">join our Discord server here</a></strong> to receive the latest updates, report bugs, find matches, share decklists, and more! You can also read the previous Changelog (v0.9.1) following the below.<br><br>
        
        <strong>Without further ado, let’s dive right into v1.0.0:</strong><br><br>
        
        <strong>DECK SUPPORT</strong><br>
        <ul style="list-style-type: disc; padding-left: 20px; margin-top: 10px; margin-bottom: 20px;">
            <li style="font-size: 1.2em; margin-bottom: 10px;"><strong>Legacy Formats:</strong> All expansions prior to 2011 have been added. A spreadsheet containing all information related to cards, including decklist syntax for PTCG-sim imports, will be available in the Discord server.</li>
            <li style="font-size: 1.2em; margin-bottom: 10px;"><strong>Decklist Library:</strong> Popular legacy decklists have now been added to the library. We’d like to extend our thanks to <a href="https://jklaczpokemon.com/" target="_blank">Jason K</a> for being an awesome Pokemon archivist.</li>
            <li style="font-size: 1.2em; margin-bottom: 10px;"><strong>Import/Export Decks:</strong> Importing a deck now breaks down cards by quantity, name, type, and image URL. Decklists can also now be saved using the “Save” button to export CSV files.</li>
            <li style="font-size: 1.2em; margin-bottom: 10px;"><strong>Custom Image Imports:</strong> With the above feature, you can now upload your own image URLs. This means every card is now supported on PTCG-sim!</li>
        </ul>
        
          
        
        <strong>BUG FIXES</strong><br>
        <ul style="list-style-type: disc; padding-left: 20px; margin-top: 10px; margin-bottom: 20px;">
        <li style="font-size: 1.2em; margin-bottom: 10px;">Fixed issue where stadium toggle doesn’t disappear on reset.</li>
        </ul>

        <strong>COMING SOON</strong><br>
        <ul style="list-style-type: disc; padding-left: 20px; margin-top: 10px; margin-bottom: 20px;">
            <li style="font-size: 1.2em; margin-bottom: 10px;">Selecting multiple cards at once.</li>
            <li style="font-size: 1.2em; margin-bottom: 10px;">Attaching cards on opponent’s side (e.g., Head Ringer).</li>
            <li style="font-size: 1.2em; margin-bottom: 10px;">Fixing appending/overlap issues.</li>
        </ul>
        There have been reports of desyncing issues. We’re looking into this - if you’ve experienced anything similar, please share on our Discord server in the #bugs-and-suggestions channel!<br><br>
        
        I’ll continue adding new features to the sim + fixing bugs as they come up. Wishing you all a happy new year and see you at the next update!<br><br>
        
        <strong>-XXL &lt;3</strong>

        <br><br>
        <br><br>
        
        <strong>v0.9.1 Changelog 12/28/2023</strong><br><br>
      
        <strong>Rotating Stadium/Pokemon BREAK Cards:</strong> You can now rotate cards using the keybind [r]. This can be used for dual stadiums (e.g., Parallel City) as well as special conditions.<br><br>
      
        <strong>Resetting Conditions:</strong> Evolving Pokemon now removes ability counters, special conditions, and rotates Pokemon upright.<br><br>
      
        <strong>Active/Benched Pokemon Switching:</strong> Moving the active Pokemon to a target bench Pokemon now automatically switches the target Pokemon to the active zone. Battle log messages are also fixed.<br><br>
      
        <strong>Revealing/Hiding versus Looking/Covering Cards:</strong> The process of flipping over cards is now divided into two types: revealing/hiding will show for both players (e.g., Town Map, Blacephalon UNB) while looking/covering only shows for the user who triggered the action (e.g., Hisuian Heavy Ball). Cards like Sidney/Grabber can work either by looking at/revealing the opponent's hand, or the opponent revealing their cards. <br><strong>NOTE:</strong> To put a face-down card from your hand in play, hide it in your hand using [z], and then move the card into play. Starting a turn will automatically reveal cards in play.<br><br>
      
        <strong>Attaching Pokemon:</strong> There is now a "Change type" function that can be accessed by right-clicking on cards in the active/bench. Changing a Pokemon to a tool/energy type (e.g., Electrode EVO, Klefki STS) enables the correct attachment to other cards.<br><br>
      
        <strong>Leaving cards in play:</strong> There is now a "Leave cards in play" button when dealing with attached cards to make handling cards like Devolution Spray easier.<br><br>
      
        <strong>Prizes Sizing:</strong> Prizes now adjust size if a 7th prize is added (e.g., Xurkitree GX).<br>
      
        <ul style="list-style-type: disc; padding-left: 15px; margin-top: 10px; margin-bottom: 20px; font-size: 2em;">
            <li style="margin-bottom: 10px;">Added option button in the bottom right to clear battle log and export battle log.</li>
            <li style="margin-bottom: 10px;">Added confused special condition marker ("c").</li>
            <li style="margin-bottom: 10px;">Added hand count display.</li>
            <li style="margin-bottom: 10px;">Added keybinds/right-click for moving cards from the board into the hand, lost zone, and shuffling into the deck.</li>
            <li style="margin-bottom: 10px;">Drag & drop to deck now appends the card to the top of the deck instead of the bottom.</li>
            <li style="margin-bottom: 10px;">You can now drag & drop the top card of your discard and lost zone into other zones.</li>
            <li style="margin-bottom: 10px;">The name of the Pokemon whose ability was used is now recorded in the battle log.</li>
            <li style="margin-bottom: 10px;">Selected card is no longer de-selected when adding damage counters/special conditions/rotating/revealing/hiding, making it easier to handle card actions.</li>
            <li style="margin-bottom: 10px;">Fixed resizing issue of active/bench cards when resizing window.</li>
            <li style="margin-bottom: 10px;">Fixed GX/VSTAR bug in 2P mode; resetting/using GX/VSTAR now properly updates both player's boards.</li>
            <li style="margin-bottom: 10px;">Fixed issue where spamming "v" while viewing a card would append multiple full-screen cards.</li>
        </ul>
              
      
        <strong>Coming later this week:</strong><br>
        <ul style="list-style-type: disc; padding-left: 20px; margin-top: 10px; margin-bottom: 20px; font-size: 1.5em;">
            <li style="margin-bottom: 10px;">Adding all expansions prior to 2011.</li>
            <li style="margin-bottom: 10px;">Custom image imports.</li>
            <li style="margin-bottom: 10px;">Selecting multiple cards at once.</li>
            <li style="margin-bottom: 10px;">Attaching cards on opponent's side (e.g., Head Ringer).</li>
        </ul>        
      
        <strong>Thank you to everyone for the support these past three days. I'm going to continue working hard to add new features and fix bugs! Come say hi in the Discord channel :)</strong><br><br>
      
        <strong>-XXL</strong>
      </div>
      

    <div id="p1Box" class="sidebox">
        <div id="chatbox"><strong>Welcome to PTCG-sim!</strong>
            <br><br>
            <strong id="changelogLink" style="cursor: pointer; text-decoration: underline;">v1.0.0 has arrived!</strong>
            <br><br>
            PTCG-sim is a free desktop tool to simulate the Pokemon TCG. It supports single player (1P) and online multiplayer (2P). 
            <br><br>
            Import your decklist by clicking the “Import” tab above, then press “Set Up” to start a game.
            <br><br>
            Drag or use keybinds (hold <span class="shift-font">shift</span>) to move cards. Happy testing! 🎉
            <br><br>
            <button id="tutorialButton">Watch Tutorial</button>
            <br><br>
            <div id="discord"><strong><a href="https://discord.gg/Kj8fhVns4g" target="_blank">Join our Discord</a></strong></div>
            <div id="line"></div>
        </div>
        <div id="chatboxButtonContainer" class="chat-button-container">
            <button id="attackButton" class="selfColour">Attack</button>
            <button id="passButton" class="selfColour">Pass</button>
            <button id="FREEBUTTON" class="selfColour">🥳</button>
        </div>
        <input id="messageInput" type="text" placeholder="Type your message here...">
        <div id="bottomP1ButtonContainer" class="sidebox-button-container">
            <button id="setupButton" class="selfColour">Set Up</button>
            <button id="resetButton" class="selfColour">Reset</button>
            <button id="setupBothButton" class="neutralColour">Set Up Both</button>
            <button id="resetBothButton" class="neutralColour">Reset Both</button>
            <button id="optionsButton" class="neutralColour">Options</button>
        </div>
    </div>
    <div id="p2Box" class="sidebox">
        <div id="p2ExplanationBox">
            <strong>Online Multiplayer Mode</strong>
            <br><br>
            PTCG-sim multiplayer supports up to 2 players per room. 
            <br><br>
            Enter or generate a unique room ID to share with your friend. Both players must enter the same ID (case-sensitive) to join.
        </div>
        <div id="lobby">
            <input id="nameInput" type="text" placeholder="Name">
            <div id="roomId">
                <input id="roomIdInput" type="text" placeholder="Room ID">
                <button id="copyButton">
                    <img src="https://www.svgrepo.com/show/309480/copy.svg" alt="Copy">
                </button>                
                <button id="generateIdButton">Generate</button>
            </div>
            <div id="joinRoomButton"> Join Room </div>
        </div>
        <div id="connectedRoom">
            <div id="roomHeader">
                <div id ="roomHeaderText"></div>
                <button id="roomHeaderCopyButton">
                    <img src="https://www.svgrepo.com/show/309480/copy.svg" alt="Copy">
                </button>
        </div>
            <div id="p2Chatbox"></div>
            <div id="p2ChatboxButtonContainer" class="chat-button-container">
                <button id="p2AttackButton" class="selfColour">Attack</button>
                <button id="p2PassButton" class="selfColour">Pass</button>
                <button id="p2FREEBUTTON" class="selfColour">🥳</button>
            </div>
            <input id="p2MessageInput" type="text" placeholder="Type your message here...">
            <div id="p2BottomButtonContainer" class="sidebox-button-container">
                <button id="p2SetupButton" class="selfColour">Set Up</button>
                <button id="p2ResetButton" class="selfColour">Reset</button>
                <button id="leaveRoomButton" class="neutralColour">Leave Room</button>
                <button id="p2OptionsButton" class="neutralColour">Options</button>
            </div>
        </div>
       
    </div>
    <div id="deckImport" class="sidebox">
        <div id="importButtonContainer">
            <button id="mainImportHeaderButton" class="main-select">Main</button>
            <button id="altImportHeaderButton">Alt (1P only)</button>
        </div>
        <textarea id="mainDeckImportInput" spellcheck="false"></textarea>
        <script>
            document.getElementById("mainDeckImportInput").placeholder = "Paste your main decklist here. \n\nClick the book 📖 to look through popular decks or click the wand 🪄 for a random deck!";
        </script>          
        <textarea id="altDeckImportInput" spellcheck="false"></textarea>
        <script>
          document.getElementById("altDeckImportInput").placeholder = "Paste your alternative decklist here if you are playing against yourself. \n\nClick the book 📖 to look through popular decks or click the wand 🪄 for a random deck!";
        </script>
        <div id="importBottom">
            <button id="decklistsButton">📖</button>
            <button id="importButton">Import</button>
            <button id="confirmButton">Confirm</button>
            <button id="cancelButton">Cancel</button>
            <button id="saveButton">Save</button>
            <div id="decklistsContextMenu" class="decklists-context-menu"></div>
            <button id="randomButton">🪄</button>
            <div id="success">Success!</div><div id="failed">Error!</div><div id="loading"></div><div id="invalid">1P only!</div>
        </div>
        <label for="csvFile" class="custom-file-upload">
            Upload File
        </label>
        <input type="file" id="csvFile" accept=".csv" style="display:none;">        
    </div>
    
    <div id="settings" class="sidebox">
        <div id="settingsToggles">
            <div>
                <input type="checkbox" id="darkModeCheckbox">
                <label for="darkModeCheckbox">Dark mode</label>
              </div>
              <div>
                <input type="checkbox" id="showContainersCheckbox">
                <label for="showContainersCheckbox">Hide containers</label>
              </div>
        </div>
        <div id="keybindReminder">
          Hold (<span class="shift-font">shift</span>) to view keybinds
        </div>
        <div id="twitterDescription">
            <div>Please reach out if you have any questions, suggestions, bugs etc.!</div>
            <a href="https://twitter.com/xxmichaellong" target="blank" rel="noopener noreferrer">
                <div id="twitterHandle">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Logo_of_Twitter.svg/512px-Logo_of_Twitter.svg.png">
                    <span id="username">@xxmichaellong</span>
                </div>
            </a>
        </div>
    </div>
      
    <div id="cardContextMenu" class="contextMenu">
        <ul>
            <li id="abilityCounterButton">Toggle ability</li>
            <li id="damageCounterButton">Damage counter</li>
            <li id="specialConditionButton">Special condition</li>

            <li id="prizesHeader">Prizes</li>
            <li id="shufflePrizesButton">Shuffle prizes</li>
            <li id="revealHidePrizesButton">Reveal/hide prizes</li>
            <li id="lookPrizesButton">Look/cover prizes</li>

            <li id="handHeader">Hand</li>
            <li id="discardHandButton">Discard hand</li>
            <li id="shuffleHandButton">Shuffle hand into deck</li>
            <li id="shuffleHandBottomButton">Shuffle hand to bottom</li>
            <li id="lookHandButton">Look/cover hand</li>

            <li id="deckHeader">Deck</li>
            <li id="shuffleDeckButton">Shuffle deck</li>
            <li id="drawButton">Draw card(s)</li>
            <li id="viewTopButton">View top card(s)</li>
            <li id="viewBottomButton">View bottom card(s)</li>

            <li id="boardHeader">Playboard</li>
            <li id="discardBoardButton">Discard all</li>
            <li id="handBoardButton">Move all to hand</li>
            <li id="shuffleBoardButton">Shuffle all into deck</li>
            <li id="lostzoneBoardButton">Lost Zone all</li>

            <li id="moveButton">Move card...
                <ul class="subMenu">
                    <li id="moveToBoardButton">to Board</li>
                    <li id="moveToTopButton">to Deck (top)</li>
                    <li id="moveToBottomButton">to Deck (bottom)</li>
                    <li id="switchWithTopButton">to Deck (switch)</li>
                    <li id="shuffleIntoDeckButton">to Deck (shuffle)</li>
                </ul>
            </li>
            <li id="changeButton">Change type...
                <ul class="subMenu">
                    <li id="changeToEnergyButton">to Energy</li>
                    <li id="changeToToolButton">to Tool</li>
                    <li id="changeToPokemonButton">to Pokemon</li>
                </ul>
            </li>
        </ul>
    </div>

    <div id="optionsContextMenu">
        <div id="clearLog">Clear battle log</div>
        <div id="exportLog">Export battle log</div>
    </div>

    <div id="keybindModal">
        <div class="sections-container">
            <div class="section">
                <div class="column">
                    <h1>Move card...</h1>
                    <ul>
                        <li>to Hand <code>[h]</code></li>
                        <li>to Discard <code>[d]</code></li>
                        <li>to Bench <code>[b]</code></li>
                        <li>to Active <code>[a]</code></li>
                        <li>to Stadium <code>[g]</code></li>
                        <li>to Lost Zone <code>[l]</code></li>
                        <li>to Prizes <code>[p]</code></li>
                        <li>to Board <code>[space]</code></li>
                        <li>to Deck (top) <code>[↑]</code></li>
                        <li>to Deck (bottom) <code>[↓]</code></li>
                        <li>to Deck (switch) <code>[→]</code></li>
                        <li>to Deck (shuffle)<code>[s]</code></li>
                    </ul>
                </div>
                <div class="column">
                    <h1>Deck</h1>
                    <ul>
                        <li>Shuffle deck<code>[s]</code></li>
                        <li>Draw card(s)<code>[1-9]</code></li>
                        <li>View top card(s)<code>[alt + 1-9]</code></li>
                        <li>View bottom card(s)<code>[ctrl + 1-9]</code></li>
                        <li>View <code>[v]</code></li>
                    </ul>
                </div>
                <div class="column">
                    <h1>Hand</h1>
                    <ul>
                        <li>Discard hand<code>[alt + d]</code></li>
                        <li>Shuffle hand into deck <code>[alt + s]</code></li>
                        <li>Shuffle hand to bottom <code>[alt + ↓]</code></li>
                    </ul>
                </div>
                <div class="column">
                    <h1>Playboard</h1>
                    <ul>
                        <li>Discard all<code>[enter]</code></li>
                        <li>Move all to hand<code>[alt + enter]</code></li>
                        <li>Shuffle all into deck<code>[/]</code></li>
                    </ul>
                </div>
            </div>
            <div class="section">
                <div class="column">
                    <h1>Card actions</h1>
                    <ul>
                        <li>Attach <code>[q]</code></li>
                        <li>Evolve <code>[e]</code></li>
                        <li>View <code>[v]</code></li>
                        <li>Toggle ability/Use stadium<code>[w]</code></li>
                        <li>Damage counter</li>
                        <ul>
                            <li>Increase <code>[1-9]</code></li>
                            <li>Decrease <code>[alt + 1-9]</code></li>
                            <li>Remove <code>[0]</code></li>
                        </ul>
                        <li>Special condition</li>
                        <ul>
                            <li>Add/Toggle <code>[y]</code></li>
                            <li>Remove <code>[alt + y]</code></li>
                        </ul>
                        <li>Rotate card(s)<code>[r]</code></li>
                        <li>Rotate Pokemon BREAK <code>[alt + r]</code></li>
                        <li>Look/cover card (only yourself)<code>[c]</code></li>
                        <li>Reveal/hide card (both players)<code>[z]</code></li>
                        <li>Put face-down card in active<code>[z] -> [a]</code></li>
                    </ul>
                </div>
                <div class="column">
                    <h1>General</h1>
                    <ul>
                        <li>Set up <code>[alt + n]</code></li>
                        <li>Reset <code>[alt + r]</code></li>
                        <li>Start turn <code>[alt + t]</code></li>
                        <li>Flip coin <code>[f]</code></li>
                        <li>Flip board <code>[alt + f]</code></li>
                        <li>Announce mulligan <code>[m]</code></li>
                        <li>Close popups <code>[esc]</code></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <table id="decklistTable">
        <thead>
            <tr>
                <th>QTY</th>
                <th>Name</th>
                <th>Type</th>
                <th>URL</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

<!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "2abae72112d74a619e3de341e1d4aa18"}'></script><!-- End Cloudflare Web Analytics -->

</body>
</html>